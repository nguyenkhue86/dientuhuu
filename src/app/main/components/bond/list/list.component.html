<div id="forms" class="page-layout simple fullwidth" fxLayout="column" PerfectScrollbar>
  <!-- CONTENT -->
  <div class="content p-24">
    <div class="h1">
      Bond
    </div>
    <p class="pt-10">
    </p>
    <div fxLayout="row wrap" fxFlex="100" *IfOnDom fxLayout="column" fxLayout.gt-md="row">
      <!-- REACTIVE FORM EXAMPLE -->
      <form class="mat-white-bg mat-elevation-z1 p-24 mb-24" fxLayout="column" fxLayoutAlign="start" fxFlex="1 0 auto" name="form"
        [formGroup]="form">
        <div>
          <div>
            <div fxLayout.xs="column" fxLayout.gt-xs="row" fxLayoutAlign="space-between" fxFlex="1 0 auto">
              <div class="h2 mb-24">Search</div>
              <div class="control-div">
                <button mat-button (click)="hide($event)">
                  <mat-icon class="nav-link-icon" color="warn">cancel</mat-icon>
                  Hide
                </button>
                <button mat-button type="button" (ngSubmit)="onSearch(isinCusip.value, issuer.value)" (click)="onSearch(isinCusip.value, issuer.value)">
                  <mat-icon class="nav-link-icon" color="warn">search</mat-icon>
                  Search
                </button>
                <button mat-button (click)="clear($event)">
                  <mat-icon class="nav-link-icon" color="warn">clear</mat-icon>
                  Clear
                </button>
              </div>
            </div>
          </div>

          <div fxFlex="1 0 auto" fxFlex="100" fxLayout.xs="column" fxLayout.gt-xs="row wrap" fxLayoutGap.xs="0px" fxLayoutGap="10px">
            <mat-form-field appearance={{appearance}} fxFlex.xs="100" fxFlex.gt-xs="25">
              <mat-label>ISIN / CUSIP</mat-label>
              <input type="text" placeholder="03 chars to search" aria-label="Number" #isinCusip matInput formControlName="ISIN" (keyup.enter)="onSearch(isinCusip.value, issuer.value)"
                autocomplete="off">
              <mat-icon matSuffix class="nav-link-icon">search</mat-icon>
            </mat-form-field>

            <mat-form-field appearance={{appearance}} fxFlex.xs="100" fxFlex.gt-xs="25">
              <mat-label>Issuer</mat-label>
              <input type="text" placeholder="03 chars to search" aria-label="Number" #issuer matInput [formControl]="myControl" [matAutocomplete]="auto"
                formControlName="ISIN" (keyup.enter)="onSearch(isinCusip.value,issuer.value)">
              <mat-icon matSuffix class="nav-link-icon">search</mat-icon>
              <mat-autocomplete autoActiveFirstOption #auto="matAutocomplete">
                <mat-option *ngFor="let option of filteredOptions | async" [value]="option.fullLegalName">
                  {{option.fullLegalName}}
                </mat-option>
              </mat-autocomplete>
            </mat-form-field>
          </div>

          <div fxFlex="1 0 auto" fxFlex="100" fxLayout="column" fxLayoutAlign="wrap">

            <mat-table #table [dataSource]="data.dataSource.data" matSort matSortActive="isinCusip" matSortDisableClear matSortDirection="asc">

              <ng-container matColumnDef="isinCusip">
                <mat-header-cell *matHeaderCellDef mat-sort-header fxFlex="20">ISIN/CUSIP</mat-header-cell>
                <mat-cell *matCellDef="let contact" fxFlex="20" (click)="toDetails(contact.ISIN)">
                  <p class="text-truncate font-weight-600">
                    {{contact.ISIN}}</p>
                </mat-cell>
              </ng-container>

              <ng-container matColumnDef="bondName">
                <mat-header-cell *matHeaderCellDef mat-sort-header fxFlex="20">Bond Name</mat-header-cell>
                <mat-cell *matCellDef="let contact" fxFlex="20" (click)="toDetails(contact.ISIN)">
                  <p class="text-truncate font-weight-600">
                    {{contact.name}}
                    <!-- - {{contact.bond.name}}-->
                  </p>
                </mat-cell>
              </ng-container>

              <ng-container matColumnDef="issuer">
                <mat-header-cell *matHeaderCellDef mat-sort-header fxFlex="20">Issuer</mat-header-cell>
                <mat-cell *matCellDef="let contact" fxFlex="20" (click)="toDetails(contact.ISIN)">
                  <p class="text-truncate">
                    {{ contact.organization ? contact.organization.fullLegalName : '' }}</p>
                </mat-cell>
              </ng-container>

              <ng-container matColumnDef="faceValue">
                <mat-header-cell *matHeaderCellDef mat-sort-header fxFlex="20">Face Value</mat-header-cell>
                <mat-cell *matCellDef="let contact" fxFlex="20" (click)="toDetails(contact.ISIN)">
                  <p class="text-truncate">
                    {{contact.faceValue}}</p>
                </mat-cell>
              </ng-container>

              <ng-container matColumnDef="issueDate">
                <mat-header-cell *matHeaderCellDef mat-sort-header fxFlex="20">Issue Date</mat-header-cell>
                <mat-cell *matCellDef="let contact" fxFlex="20" (click)="toDetails(contact.ISIN)">
                  <p class="text-truncate">
                    {{contact.issueDate}}</p>
                </mat-cell>
              </ng-container>

              <ng-container matColumnDef="maturityDate">
                <mat-header-cell *matHeaderCellDef mat-sort-header fxFlex="20">Maturity Date</mat-header-cell>
                <mat-cell *matCellDef="let contact" fxFlex="20" (click)="toDetails(contact.ISIN)">
                  <p class="text-truncate">
                    {{contact.closedDate}}</p>
                </mat-cell>
              </ng-container>

              <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
              <mat-row *matRowDef="let contact; columns: displayedColumns;"></mat-row>
            </mat-table>
            <mat-paginator #paginator2 [length]="10" [pageIndex]="1" [pageSize]="5" [pageSizeOptions]="[5, 25, 50, 100, 250]">
            </mat-paginator>
          </div>

        </div>
      </form>
    </div>
    <!-- / CONTENT -->
  </div>
</div>